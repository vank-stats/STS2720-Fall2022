/* 
     Section: Reading Data Into SAS 
*/

data fidget;
input Subject $ AttScore MemScore MemProp Condition $ Age Gender $;
cards;
6 4.67 8 0.4 NoSpinner 19 m
7 4.33 0 0 NoSpinner 19 f
8 4.67 2 0.1 NoSpinner 19 f
14 2.33 7 0.35 NoSpinner 19 m
15 2.67 10 0.5 NoSpinner 20 f
16 4.33 0 0 NoSpinner 22 f
17 2.33 5 0.25 NoSpinner 18 m
18 3.67 6 0.3 NoSpinner 21 m
19 3.00 14 0.7 NoSpinner 22 m
20 2.33 10 0.5 NoSpinner 19 f
21 3.67 12 0.6 NoSpinner 18 m
33 4.00 1 0.05 NoSpinner 19 f
34 3.67 6 0.3 NoSpinner 19 f
35 2.67 8 0.4 NoSpinner 21 m
36 3.33 5 0.25 NoSpinner 18 f
46 5.00 6 0.3 NoSpinner 21 f
47 2.67 3 0.15 NoSpinner 20 f
48 2.00 13 0.65 NoSpinner 19 f
49 4.67 6 0.3 NoSpinner 19 f
50 4.00 2 0.1 NoSpinner 21 f
51 3.33 3 0.15 NoSpinner 24 f
68 3.33 10 0.5 NoSpinner 19 f
69 2.33 4 0.2 NoSpinner 20 f
84 3.67 7 0.35 NoSpinner 24 m
85 3.33 7 0.35 NoSpinner 21 f
86 4.33 3 0.15 NoSpinner 21 m
87 2.33 0 0 NoSpinner 19 f
88 2.33 12 0.6 NoSpinner 24 f
89 3.00 5 0.25 NoSpinner 18 f
90 3.00 12 0.6 NoSpinner 20 f
91 1.33 17 0.85 NoSpinner 19 m
92 2.33 11 0.55 NoSpinner 22 f
2 3.67 3 0.15 Spinner 19 m
3 4.33 5 0.25 Spinner 20 f
9 3.67 1 0.05 Spinner 21 m
10 5.00 2 0.1 Spinner 19 m
22 4.33 1 0.05 Spinner 19 f
25 4.00 2 0.1 Spinner 18 m
26 2.67 15 0.75 Spinner 21 f
29 2.33 11 0.55 Spinner 19 f
30 3.00 3 0.15 Spinner 19 f
38 3.33 1 0.05 Spinner 21 f
40 2.33 3 0.15 Spinner 24 m
42 3.67 0 0 Spinner 22 f
44 3.33 0 0 Spinner 19 f
45 3.67 4 0.2 Spinner 20 f
54 4.00 2 0.1 Spinner 19 f
55 2.33 4 0.2 Spinner 20 f
56 2.67 6 0.3 Spinner 22 m
59 4.67 1 0.05 Spinner 20 f
60 3.33 4 0.2 Spinner 21 f
63 4.00 3 0.15 Spinner 20 f
67 1.67 9 0.45 Spinner 19 m
70 4.00 9 0.45 Spinner 19 m
72 3.00 8 0.4 Spinner 22 m
76 4.00 2 0.1 Spinner 19 m
78 4.33 1 0.05 Spinner 19 f
79 3.67 0 0 Spinner 21 f
81 2.67 8 0.4 Spinner 20 f
82 3.33 4 0.2 Spinner 19 f
83 3.00 8 0.4 Spinner 23 f
94 2.67 2 0.1 Spinner 21 m
96 3.33 1 0.05 Spinner 20 m
97 3.00 0 0 Spinner 19 m
98 3.00 2 0.1 Spinner 20 m
1 2.00 1 0.05 SpinnerPresent 20 m
4 2.33 4 0.2 SpinnerPresent 21 f
5 2.67 1 0.05 SpinnerPresent 20 f
11 4.00 5 0.25 SpinnerPresent 20 m
12 2.33 16 0.8 SpinnerPresent 18 f
13 2.33 8 0.4 SpinnerPresent 21 f
23 3.67 10 0.5 SpinnerPresent 25 f
24 3.00 2 0.1 SpinnerPresent 20 f
27 3.33 1 0.05 SpinnerPresent 20 f
28 3.67 9 0.45 SpinnerPresent 18 f
31 4.33 2 0.1 SpinnerPresent 18 f
32 2.67 7 0.35 SpinnerPresent 20 m
37 2.33 12 0.6 SpinnerPresent 23 m
39 2.33 6 0.3 SpinnerPresent 21 m
41 3.33 5 0.25 SpinnerPresent 19 f
43 3.33 2 0.1 SpinnerPresent 20 f
52 4.00 2 0.1 SpinnerPresent 20 m
53 2.00 11 0.55 SpinnerPresent 20 f
57 2.00 10 0.5 SpinnerPresent 19 f
58 3.67 12 0.6 SpinnerPresent 19 f
61 2.33 4 0.2 SpinnerPresent 20 f
62 2.33 2 0.1 SpinnerPresent 20 f
64 3.67 3 0.15 SpinnerPresent 19 f
65 4.00 3 0.15 SpinnerPresent 19 f
66 3.00 3 0.15 SpinnerPresent 20 m
71 2.33 6 0.3 SpinnerPresent 18 m
73 4.33 5 0.25 SpinnerPresent 18 m
74 1.33 13 0.65 SpinnerPresent 19 f
75 3.67 6 0.3 SpinnerPresent 20 f
77 4.33 2 0.1 SpinnerPresent 21 f
80 3.33 11 0.55 SpinnerPresent 20 m
93 2.33 5 0.25 SpinnerPresent 19 m
95 2.33 4 0.2 SpinnerPresent 20 f
;

/* Practice: Create a dataset of my schedule */

data schedule;
input department $ coursenumber $ credits;
cards;
STS 2720 6
STS 1100 4
STS 4999 1
;





/* 
     Section: SAS Procedures 
*/

/* Chunk 1: Prints our data */
proc print data = fidget;
run;

/* Chunk 2: Sorts the data (doesn't print anything) */
proc sort data = fidget;
by age;
run;

/* Chunk 3: Prints data again (which is now sorted by age) */
proc print data = fidget;
run;

/* Chunk 4: A few summary statistics for attscore variable */
proc means data = fidget;
var AttScore;
run;

/* Chunk 5: Many summary statistics for memscore variable */
proc univariate data = fidget;
var MemScore;
run;

/* Extra Example: Printing only specific variables in our data */

proc print data = fidget;
var MemScore Condition;
run;

/* Practice: Sort by MemScore, print, find minimum MemScore with means proc */

proc sort data = fidget;
by MemScore;
run;
proc print data = fidget;
run;
proc means data = fidget min;
var MemScore;
run;





/* 
     Section: Descriptive Statistics 
*/

/* Means and univariate procedures done by condition levels */
proc means data = fidget;
var AttScore;
class condition;
run;

proc univariate data = fidget;
class condition;
var MemScore;
run;

/* Example of customizing proc means output */
proc means data = fidget min q1 median q3 max std;
var AttScore;
class condition;
run;

/* Tables for one or two categorical variables */
proc freq data = fidget;
tables condition;
run;

proc freq data = fidget;
tables condition * gender;
run;





/* 
     Section: Graphing 
*/

/*Histogram of memscore variable */
proc sgplot data = fidget;
histogram memscore;
run;

/* Side-by-side boxplots of memscore variable for differnt condition levels */
proc sgplot data = fidget;
vbox memscore / 
  category = condition;
run;

/* Bar graph of gender levels (vbar for vertical bars or hbar for horizontal) */
proc sgplot data = fidget;
hbar gender;
run;

/* Scatterplot of attscore vs. memscore with x and y axis labels added */
proc sgplot data = fidget;
scatter x = attscore y = memscore / 
  group = condition;
xaxis label = 'Attention Scores';
yaxis label = 'Memory Scores';
run;

/* You can add titles to a graph like this */
title "This is my graph title";
proc sgplot data = fidget;
vbox memscore / 
  category = condition;
yaxis label = 'Memory Scores';
run;
title;

/* Example: We can make stacked bar graphs showing two categorical variables */
proc sgplot data = fidget;
vbar gender / group = condition;
run;





/* 
     Section: Linear regression 
*/

/* Multiple regression predicting attscore with age and memscore */
/* Adding p clm and cli is optional. They respectively provide us with...
     predictions, confidence intervals, and prediction intervals */
    
PROC REG DATA = fidget;
MODEL attscore = age memscore / p clm cli;
RUN;

/* Note: I've added the code to read the nba02 data into SAS
   and to create a multiple linear regression to the end of this file. /*





/* 
     Section: Confidence intervals 
*/

/* 95% CI for the population mean memscore */
proc ttest data = fidget;
var memscore;
run;

/* 90% CI for the difference in population mean memscores (female - male) */
proc ttest data = fidget alpha = 0.1;
class gender;
var memscore;
run;

/* 95% CI for the population proportion that are female */
proc freq data = fidget;
tables gender / binomial(level = "f");
run;





/* Read nba02 data in then create multiple linear regression */

data nba02;
input position $ games minutes points ppm mpg height ftp ppg rebounds rpm fgp weight age;
cards;
SG 24 441 135 0.306122 18.3750 78 0.727273 5.6250 84 0.190476 0.374150 223 29
SG 56 1325 549 0.414340 23.6607 77 0.809917 9.8036 148 0.111698 0.470464 205 26
SG 69 2525 1503 0.595248 36.5942 77 0.873469 21.7826 312 0.123564 0.461672 205 28
PG 50 600 177 0.295000 12.0000 74 0.620690 3.5400 72 0.120000 0.345550 173 27
SG 70 1860 757 0.406989 26.5714 77 0.855769 10.8143 189 0.101613 0.403595 195 29
SG 15 219 60 0.273973 14.6000 78 0.555556 4.0000 33 0.150685 0.276316 228 35
PG 60 1514 474 0.313078 25.2333 73 0.659341 7.9000 132 0.087186 0.385263 180 36
PG 47 1155 511 0.442424 24.5745 75 0.775000 10.8723 132 0.114286 0.453125 191 21
PG 82 2730 1015 0.371795 33.2927 73 0.887805 12.3780 319 0.116850 0.419082 180 35
PG 38 383 111 0.289817 10.0789 74 0.722222 2.9211 40 0.104439 0.441441 202 24
PG 79 2284 957 0.419002 28.9114 71 0.691667 12.1139 158 0.069177 0.465823 160 29
PG 19 228 58 0.254386 12.0000 73 0.900000 3.0526 18 0.078947 0.352941 185 25
SG 82 1986 739 0.372105 24.2195 77 0.931034 9.0122 234 0.117825 0.488506 210 34
SG 78 3097 1125 0.363255 39.7051 80 0.699647 14.4231 418 0.134969 0.428720 220 25
SG 74 890 254 0.285393 12.0270 77 0.750000 3.4324 111 0.124719 0.429167 204 27
PG 74 1747 581 0.332570 23.6081 71 0.896552 7.8514 151 0.086434 0.440154 185 31
PG 80 2659 1098 0.412937 33.2375 73 0.803109 13.7250 222 0.083490 0.452792 190 25
PG 35 599 119 0.198664 17.1143 73 0.500000 3.4000 52 0.086811 0.342466 190 36
PG 68 761 280 0.367937 11.1912 65 0.770492 4.1176 54 0.070959 0.400000 133 27
PG 32 962 397 0.412682 30.0625 71 0.988095 12.4063 93 0.096674 0.424658 173 33
PG 40 403 123 0.305211 10.0750 74 0.750000 3.0750 42 0.104218 0.426087 189 24
SG 80 3063 2019 0.659158 38.2875 79 0.828523 25.2375 441 0.143976 0.469004 215 25
PG 44 885 253 0.285876 20.1136 76 0.689655 5.7500 173 0.195480 0.525253 210 27
SG 63 1769 591 0.334087 28.0794 77 0.725000 9.3810 272 0.153759 0.435076 189 26
PG 46 1050 198 0.188571 22.8261 74 0.527778 4.3043 117 0.111429 0.342308 195 28
SG 60 2385 1484 0.622222 39.7500 78 0.798046 24.7333 313 0.131237 0.427697 225 26
PG 74 2604 1461 0.561060 35.1892 75 0.859756 19.7432 312 0.119816 0.462824 185 34
PG 69 1576 285 0.180838 22.8406 75 0.816901 4.1304 154 0.097716 0.327703 195 36
SG 81 2798 972 0.347391 34.5432 78 0.851240 12.0000 374 0.133667 0.459864 205 33
PG 67 1528 480 0.314136 22.8060 71 0.838235 7.1642 160 0.104712 0.400442 166 25
PG 47 693 149 0.215007 14.7447 74 0.891892 3.1702 55 0.079365 0.383562 182 35
PG 23 481 214 0.444906 20.9130 77 0.769231 9.3043 34 0.070686 0.475936 175 23
PG 41 802 284 0.354115 19.5610 74 0.863636 6.9268 75 0.093516 0.471154 194 34
SG 56 886 360 0.406321 15.8214 77 0.891892 6.4286 81 0.091422 0.406340 205 39
PG 82 2175 753 0.346207 26.5244 76 0.752381 9.1829 176 0.080920 0.439542 205 28
PG 82 3319 1484 0.447123 40.4756 75 0.579882 18.0976 349 0.105152 0.416853 210 24
PG 29 775 185 0.238710 26.7241 77 0.888889 6.3793 74 0.095484 0.353535 195 35
SG 51 1231 365 0.296507 24.1373 77 0.761905 7.1569 77 0.062551 0.447853 183 33
PG 63 1447 597 0.412578 22.9683 74 0.804124 9.4762 203 0.140290 0.384354 189 29
PG 14 155 58 0.374194 11.0714 75 0.833333 4.1429 3 0.019355 0.385965 196 23
PG 61 774 210 0.271318 12.6885 75 0.793103 3.4426 72 0.093023 0.428571 184 29
PG 39 609 171 0.280788 15.6154 74 0.795918 4.3846 49 0.080460 0.337143 180 31
SG 69 2755 1424 0.516878 39.9275 79 0.836653 20.6377 360 0.130672 0.463355 215 30
PG 70 1974 786 0.398176 28.2000 73 0.846847 11.2286 146 0.073961 0.411411 200 29
PG 57 2343 1234 0.526675 41.1053 75 0.772512 21.6491 401 0.171148 0.417080 193 26
PG 23 382 116 0.303665 16.6087 73 0.794872 5.0435 28 0.073298 0.423913 190 25
SG 65 1410 372 0.263830 21.6923 77 0.677419 5.7231 184 0.130496 0.383886 215 35
PG 45 607 244 0.401977 13.4889 73 0.814815 5.4222 44 0.072488 0.360656 180 25
SG 63 2203 1260 0.571947 34.9683 79 0.890208 20.0000 216 0.098048 0.435424 193 25
SG 80 2462 959 0.389521 30.7750 79 0.810256 11.9875 350 0.142161 0.417830 215 32
PG 68 1601 652 0.407245 23.5441 72 0.793814 9.5882 124 0.077452 0.364516 195 37
SG 74 1553 675 0.434643 20.9865 77 0.841772 9.1216 207 0.133290 0.463687 205 33
SG 78 2237 681 0.304426 28.6795 77 0.763158 8.7308 255 0.113992 0.425159 200 24
SG 79 1409 345 0.244855 17.8354 77 0.840426 4.3671 210 0.149042 0.415808 210 31
PG 64 1230 514 0.417886 19.2188 73 0.857143 8.0313 110 0.089431 0.398855 180 25
SG 77 2914 1567 0.537749 37.8442 78 0.870206 20.3506 252 0.086479 0.436587 200 32
PG 81 1854 950 0.512406 22.8889 73 0.875622 11.7284 145 0.078209 0.434356 170 27
PG 73 2050 895 0.436585 28.0822 77 0.737452 12.2603 245 0.119512 0.423457 184 24
PG 82 1616 473 0.292698 19.7073 74 0.500000 5.7683 121 0.074876 0.381633 190 33
SG 60 2622 1883 0.718154 43.7000 73 0.811966 31.3833 269 0.102593 0.398442 165 28
PG 81 1750 896 0.512000 21.6049 73 0.809783 11.0617 251 0.143429 0.442971 185 30
PG 24 280 57 0.203571 11.6667 77 0.666667 2.3750 27 0.096429 0.476190 204 27
SG 55 1825 589 0.322740 33.1818 78 0.862069 10.7091 290 0.158904 0.442379 220 33
PG 82 2367 686 0.289818 28.8659 75 0.790909 8.3659 309 0.130545 0.439189 195 38
PG 34 366 94 0.256831 10.7647 75 0.640000 2.7647 29 0.079235 0.411111 190 29
PG 68 1352 535 0.395710 19.8824 71 0.742331 7.8676 69 0.051036 0.479167 180 38
SG 77 1916 581 0.303236 24.8831 80 0.773585 7.5455 257 0.134134 0.429795 225 22
SG 81 3156 1480 0.468948 38.9630 78 0.836620 18.2716 378 0.119772 0.431553 200 32
SG 60 2092 1375 0.657266 34.8667 78 0.789790 22.9167 339 0.162046 0.416163 216 40
SG 65 775 269 0.347097 11.9231 75 0.975000 4.1385 60 0.077419 0.470046 180 38
PG 82 3056 1208 0.395288 37.2683 76 0.813765 14.7317 595 0.194699 0.391037 212 30
SG 82 2601 1102 0.423683 31.7195 77 0.744186 13.4390 275 0.105729 0.465957 190 29
PG 53 1151 371 0.322328 21.7170 70 0.756522 7.0000 109 0.094700 0.422156 170 28
SG 44 477 209 0.438155 10.8409 75 0.913043 4.7500 55 0.115304 0.397727 197 27
PG 33 541 193 0.356747 16.3939 75 0.857143 5.8485 49 0.090573 0.394595 185 30
SG 71 1665 813 0.488288 23.4507 76 0.783333 11.4507 183 0.109910 0.409623 205 30
PG 71 1459 555 0.380398 20.5493 73 0.761905 7.8169 122 0.083619 0.426923 178 26
SG 65 1180 300 0.254237 18.1538 78 0.589744 4.6154 176 0.149153 0.342561 222 38
PG 82 3187 1674 0.525259 38.8659 74 0.780973 20.4146 266 0.083464 0.442321 180 26
SG 76 2912 1948 0.668956 38.3158 80 0.747748 25.6316 597 0.205014 0.450820 210 24
PG 81 3030 1184 0.390759 37.4074 76 0.835616 14.6173 213 0.070297 0.413024 179 29
PG 48 1470 587 0.399320 30.6250 77 0.786885 12.2292 192 0.130612 0.448980 209 31
SG 53 1715 735 0.428571 32.3585 79 0.798319 13.8679 178 0.103790 0.396684 210 27
PG 81 3023 1335 0.441614 37.3210 74 0.816555 16.4815 379 0.125372 0.453589 200 27
SG 63 2123 956 0.450306 33.6984 80 0.762431 15.1746 273 0.128592 0.437656 218 23
SG 79 2889 1304 0.451367 36.5696 79 0.910769 16.5063 219 0.075805 0.453450 195 38
SG 74 3117 1606 0.515239 42.1216 76 0.850318 21.7027 300 0.096246 0.438144 210 28
PG 82 2838 1466 0.516561 34.6098 75 0.887372 17.8780 254 0.089500 0.482537 195 29
PG 82 2250 665 0.295556 27.4390 73 0.751479 8.1098 246 0.109333 0.397781 175 30
PG 81 1721 462 0.268449 21.2469 74 0.823789 5.7037 184 0.106915 0.388102 195 31
PG 69 790 231 0.292405 11.4493 75 0.729730 3.3478 73 0.092405 0.383178 195 25
PG 77 2267 705 0.310984 29.4416 74 0.675000 9.1558 197 0.086899 0.419405 180 21
PG 82 3301 1815 0.549833 40.2561 76 0.797015 22.1341 396 0.119964 0.467047 180 35
SG 82 2060 737 0.357767 25.1220 76 0.862069 8.9878 206 0.100000 0.421053 208 34
SG 78 2793 1176 0.421053 35.8077 78 0.798387 15.0769 294 0.105263 0.494703 200 32
SG 71 1718 626 0.364377 24.1972 78 0.893805 8.8169 184 0.107101 0.439490 215 33
PG 72 1294 399 0.308346 17.9722 75 0.819277 5.5417 164 0.126739 0.423676 205 40
SG 73 2238 782 0.349419 30.6575 80 0.793103 10.7123 429 0.191689 0.376359 215 26
SG 67 1417 767 0.541284 21.1493 78 0.791304 11.4478 224 0.158080 0.482759 215 24
SG 80 2629 1151 0.437809 32.8625 78 0.671429 14.3875 340 0.129327 0.425688 220 22
SG 81 2152 1076 0.500000 26.5679 78 0.764706 13.2840 334 0.155204 0.431965 236 23
SG 64 709 260 0.366714 11.0781 77 0.954545 4.0625 94 0.132581 0.404858 220 38
SG 10 173 93 0.537572 17.3000 77 0.764706 9.3000 33 0.190751 0.456790 215 32
PG 36 560 189 0.337500 15.5556 74 0.782609 5.2500 52 0.092857 0.366834 170 22
PG 58 631 169 0.267829 10.8793 78 0.692308 2.9138 112 0.177496 0.352601 200 37
PG 60 1141 441 0.386503 19.0167 76 0.646154 7.3500 133 0.116564 0.425234 200 28
SG 77 2212 895 0.404611 28.7273 80 0.878453 11.6234 193 0.087251 0.454545 221 34
PG 61 2225 738 0.331685 36.4754 75 0.806167 12.0984 215 0.096629 0.442308 204 30
PG 62 881 321 0.364359 14.2097 73 0.671233 5.1774 68 0.077185 0.341390 185 25
SG 76 2685 1629 0.606704 35.3289 78 0.857886 21.4342 315 0.117318 0.397271 218 29
SG 66 929 290 0.312164 14.0758 77 0.804878 4.3939 68 0.073197 0.367742 190 38
SG 67 1134 325 0.286596 16.9254 77 0.698113 4.8507 131 0.115520 0.385445 210 22
SG 50 665 208 0.312782 13.3000 77 0.846154 4.1600 85 0.127820 0.372340 210 33
PG 82 2566 1102 0.429462 31.2927 73 0.856698 13.4390 263 0.102494 0.517419 175 41
PG 75 2796 1016 0.363376 37.2800 70 0.887755 13.5467 292 0.104435 0.401961 171 30
PG 79 1643 606 0.368837 20.7975 75 0.845161 7.6709 213 0.129641 0.389344 210 30
PG 76 2294 794 0.346120 30.1842 75 0.766169 10.4474 232 0.101133 0.442577 185 37
SG 78 1779 778 0.437324 22.8077 77 0.719512 9.9744 256 0.143901 0.423729 200 30
SG 82 3117 1531 0.491177 38.0122 79 0.830882 18.6707 391 0.125441 0.507500 244 26
SG 78 2967 1504 0.506909 38.0385 74 0.835294 19.2821 270 0.091001 0.429861 180 26
PG 80 2442 751 0.307535 30.5250 75 0.704301 9.3875 298 0.122031 0.380263 195 25
PG 72 2496 1322 0.529647 34.6667 73 0.800797 18.3611 254 0.101763 0.408646 195 32
PG 82 1856 540 0.290948 22.6341 73 0.825397 6.5854 168 0.090517 0.470320 190 28
PG 63 1058 326 0.308129 16.7937 74 0.810345 5.1746 127 0.120038 0.372937 185 33
SG 74 2347 1255 0.534725 31.7162 77 0.741379 16.9595 444 0.189178 0.468720 210 27
PG 67 2487 951 0.382388 37.1194 73 0.734043 14.1940 143 0.057499 0.400000 203 33
PG 82 2171 833 0.383694 26.4756 73 0.880000 10.1585 152 0.070014 0.417683 175 32
PG 82 2927 971 0.331739 35.6951 77 0.735714 11.8415 281 0.096003 0.415036 185 29
PG 65 2236 959 0.428891 34.4000 73 0.792079 14.7538 195 0.087209 0.381726 190 28
;

proc reg data = nba02;
model rpm = height weight age;
run;